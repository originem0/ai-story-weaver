# AI Story Weaver - å®Œæ•´æŒ‡å—

> åŸºäº AI çš„æ™ºèƒ½æ•…äº‹ç”Ÿæˆä¸é…éŸ³å·¥å…·

## ğŸ“– ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [ç‰ˆæœ¬æ›´æ–°è®°å½•](#ç‰ˆæœ¬æ›´æ–°è®°å½•)

---

## é¡¹ç›®ç®€ä»‹

AI Story Weaver æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ Web åº”ç”¨ï¼Œç»“åˆäº†å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€ç”Ÿæˆå’Œè¯­éŸ³åˆæˆæŠ€æœ¯ï¼Œå¸®åŠ©ç”¨æˆ·è½»æ¾åˆ›ä½œå¼•äººå…¥èƒœçš„æ•…äº‹ã€‚

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: React 19 + TypeScript + Vite 6
- **æ ·å¼**: Tailwind CSS (CDN)
- **AI æœåŠ¡**: 
  - Google Gemini (æ•…äº‹ç”Ÿæˆ + TTS)
  - ElevenLabs (é«˜è´¨é‡ TTS)

### æ ¸å¿ƒç‰¹æ€§
- ğŸ–¼ï¸ å›¾ç‰‡ä¸Šä¼ ä¸æ™ºèƒ½åˆ†æ
- âœï¸ å¯è‡ªå®šä¹‰çš„æ•…äº‹ç”Ÿæˆï¼ˆæ”¯æŒå¤šè¯­è¨€ã€é£æ ¼ã€å­—æ•°è¦æ±‚ï¼‰
- ğŸ™ï¸ åŒ TTS å¼•æ“ï¼ˆGemini / ElevenLabsï¼‰
- ğŸ’¾ éŸ³é¢‘ä¸‹è½½åŠŸèƒ½
- âš™ï¸ çµæ´»çš„æ¨¡å‹é…ç½®ï¼ˆ11+ æ¨¡å‹é€‰é¡¹ + è‡ªå®šä¹‰ï¼‰
- ğŸ”„ è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼ˆåº”å¯¹ API è¿‡è½½ï¼‰
- ğŸŒ å®Œæ•´çš„ Google Search Grounding æ”¯æŒ

---

## å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶
- Node.js 18+ 
- Gemini API Key ([è·å–åœ°å€](https://aistudio.google.com/app/apikey))
- (å¯é€‰) ElevenLabs API Key

### æœ¬åœ°è¿è¡Œ

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. é…ç½® API Key (ä¸¤ç§æ–¹å¼ä»»é€‰å…¶ä¸€)
# æ–¹å¼A: ä¿®æ”¹ .env.local
GEMINI_API_KEY=ä½ çš„_Gemini_API_Key

# æ–¹å¼B: å¯åŠ¨ååœ¨é¡µé¢å³ä¸Šè§’ Settings ä¸­å¡«å†™

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# 4. è®¿é—®åº”ç”¨
# http://localhost:3000
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
# è¾“å‡ºç›®å½•: dist/
```

---

## åŠŸèƒ½ç‰¹æ€§

### 1. æ™ºèƒ½æ•…äº‹ç”Ÿæˆ

**åŸºç¡€åŠŸèƒ½:**
- ä¸Šä¼ å›¾ç‰‡ï¼ˆæ”¯æŒå®Œæ•´æ˜¾ç¤ºä»»æ„å°ºå¯¸ï¼‰
- å¯é€‰è‡ªå®šä¹‰æç¤ºï¼ˆImage Promptï¼‰
- è‡ªåŠ¨å›¾åƒåˆ†æä¸äº‹å®æ£€ç´¢
- å®æ—¶åŠ è½½æŒ‡ç¤ºå™¨

**è‡ªå®šä¹‰é€‰é¡¹:**
```
ç¤ºä¾‹1: ç”¨ä¸­æ–‡å†™ä¸€ä¸ª500å­—çš„å¹½é»˜æ•…äº‹
ç¤ºä¾‹2: æ¨¡ä»¿æµ·æ˜å¨çš„ç®€æ´é£æ ¼
ç¤ºä¾‹3: æ‚²ä¼¤çš„è¯­æ°”ï¼Œç¬¬ä¸€äººç§°å™è¿°
```

### 2. å¤šæ¨¡å‹æ”¯æŒ

**æ•…äº‹ç”Ÿæˆæ¨¡å‹ (11+ é€‰é¡¹):**
- Gemini 2.5 ç³»åˆ—: Flash, Flash-8B, Pro
- Gemini 2.0 ç³»åˆ—: Flash, Flash Exp
- Gemini 1.5 ç³»åˆ—: Flash, Flash-8B, Pro
- è‡ªå®šä¹‰æ¨¡å‹è¾“å…¥

**TTS æ¨¡å‹:**
- Gemini: 2.5 Flash TTS, 2.0 Flash Exp, è‡ªå®šä¹‰
- ElevenLabs: é«˜è´¨é‡å¤šè¯­è¨€ TTS

### 3. è¿æ¥éªŒè¯ä¸é”™è¯¯è¯Šæ–­

**æ™ºèƒ½é”™è¯¯åˆ†ç±»:**
- ğŸŒ ç½‘ç»œé—®é¢˜
- ğŸ”‘ è®¤è¯é”™è¯¯
- ğŸ¤– æ¨¡å‹é”™è¯¯
- âš™ï¸ é…ç½®é”™è¯¯
- âŒ æœªçŸ¥é”™è¯¯

**è‡ªåŠ¨é‡è¯•:**
- é‡åˆ° 503/429/ç½‘ç»œé”™è¯¯æ—¶è‡ªåŠ¨é‡è¯• 3 æ¬¡
- æŒ‡æ•°é€€é¿ç­–ç•¥ (2s â†’ 4s â†’ 8s)

### 4. éŸ³é¢‘åŠŸèƒ½

- ğŸ™ï¸ åŒ TTS å¼•æ“é€‰æ‹©
- ğŸ”Š å†…ç½®éŸ³é¢‘æ’­æ”¾å™¨ï¼ˆè¿›åº¦æ¡ã€æ’­æ”¾/æš‚åœï¼‰
- ğŸ’¾ ä¸€é”®ä¸‹è½½ï¼ˆè‡ªåŠ¨å‘½åï¼Œæ ¼å¼è¯†åˆ«ï¼‰
- ğŸ”„ éŸ³é¢‘ç”Ÿæˆå¤±è´¥åå¯é‡æ–°ç”Ÿæˆ

---

## éƒ¨ç½²æŒ‡å—

### æ–¹æ¡ˆ 1: é™æ€æ‰˜ç®¡ï¼ˆVercel/Netlifyï¼‰

**é€‚ç”¨åœºæ™¯:** æ¼”ç¤ºã€æµ‹è¯•ã€ä¸ªäººä½¿ç”¨

```bash
# æ„å»º
npm run build

# éƒ¨ç½²åˆ° Vercel
vercel --prod

# æˆ–éƒ¨ç½²åˆ° Netlify
netlify deploy --prod --dir=dist
```

**é…ç½®:**
- Build command: `npm run build`
- Output directory: `dist`
- ç¯å¢ƒå˜é‡: `GEMINI_API_KEY` (å¯é€‰)

**âš ï¸ å®‰å…¨æç¤º:** å‰ç«¯éƒ¨ç½²ä¼šæš´éœ² API Keyï¼Œä»…ç”¨äºæ¼”ç¤ºç¯å¢ƒã€‚

### æ–¹æ¡ˆ 2: GitHub Pages

**é€‚ç”¨åœºæ™¯:** å¼€æºé¡¹ç›®ã€æ–‡æ¡£ç«™ç‚¹

```bash
# å®‰è£…å·¥å…·
npm install --save-dev gh-pages

# ä¿®æ”¹ vite.config.tsï¼Œè®¾ç½® base è·¯å¾„
# base: '/ai-story-weaver/'

# æ·»åŠ è„šæœ¬åˆ° package.json
"scripts": {
  "predeploy": "npm run build",
  "deploy": "gh-pages -d dist"
}

# æ‰§è¡Œéƒ¨ç½²
npm run deploy
```

è®¿é—®: `https://ä½ çš„ç”¨æˆ·å.github.io/ai-story-weaver/`

### æ–¹æ¡ˆ 3: åç«¯ä»£ç†ï¼ˆæ¨èç”Ÿäº§ï¼‰

**æ ¸å¿ƒæ€è·¯:** éšè— API Keyï¼Œæå‡å®‰å…¨æ€§

**æ¶æ„:**
```
å‰ç«¯ (é™æ€) â†’ åç«¯ä»£ç† (Node/Vercel/Cloudflare Workers) â†’ Gemini/ElevenLabs API
```

**Express ç¤ºä¾‹:**
```javascript
// server.js
app.post('/api/gemini', async (req, res) => {
  const response = await fetch('https://generativelanguage.googleapis.com/...', {
    headers: { 'Authorization': `Bearer ${process.env.GEMINI_API_KEY}` }
  });
  res.json(await response.json());
});
```

**Vercel Serverless:**
- åœ¨ `api/gemini.ts` åˆ›å»º API ç«¯ç‚¹
- å‰ç«¯æ”¹ä¸ºè°ƒç”¨ `/api/gemini`
- å¯†é’¥é…ç½®åœ¨ Vercel ç¯å¢ƒå˜é‡

### æ–¹æ¡ˆ 4: Docker å®¹å™¨åŒ–

```dockerfile
# Dockerfile
FROM node:20-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
EXPOSE 80
```

```bash
# æ„å»ºé•œåƒ
docker build -t ai-story-weaver .

# è¿è¡Œå®¹å™¨
docker run -p 80:3000 ai-story-weaver
```

---

## ç‰ˆæœ¬æ›´æ–°è®°å½•

### v2.1 (æœ€æ–°) - ç”¨æˆ·ä½“éªŒä¼˜åŒ–

**UI æ”¹è¿›:**
- âœ¨ å›¾ç‰‡ `object-contain` å®Œæ•´æ˜¾ç¤º
- âœ¨ Image Prompt å¯é€‰è¾“å…¥ï¼Œä¼˜å…ˆç”¨æˆ·è‡ªå®šä¹‰
- âœ¨ å®æ—¶æ—‹è½¬åŠ è½½æŒ‡ç¤ºå™¨
- âœ¨ é…è‰²æ”¹ä¸ºå†·é™çš„è“ç»¿è‰²ç³» (Teal/Cyan)
- âœ¨ è®¾ç½®å›¾æ ‡æ›´æ˜æ˜¾ï¼ˆåœ†å½¢æŒ‰é’® + è¾¹æ¡†ï¼‰
- âœ¨ æ¯›ç»ç’ƒæ•ˆæœä¸åœ†è§’ä¼˜åŒ– (backdrop-blur, rounded-xl)
- âœ¨ æ ‡é¢˜ä¸æŒ‰é’®å¢å¤§ï¼Œæå‡é«˜çº§æ„Ÿ

### v2.0 - é‡æ–°è®¾è®¡

**è§†è§‰å‡çº§:**
- ğŸ¨ ä»æš—é»‘é£æ ¼æ”¹ä¸ºæ¸…çˆ½æµ…è‰²é£æ ¼
- ğŸ¨ æ–‡å­—å¯¹æ¯”åº¦è¾¾ WCAG AAA çº§
- ğŸ¨ å›¾ç‰‡å’Œè¾“å…¥æ¡†å¹¶æ’å¸ƒå±€
- ğŸ¨ åŠ¨æ€æ˜¾ç¤ºï¼ˆæ— å†…å®¹æ—¶éšè—ç»„ä»¶ï¼‰

### v1.3 - åŠŸèƒ½å¢å¼º

**æ–°å¢åŠŸèƒ½:**
- ğŸ’¾ éŸ³é¢‘ä¸‹è½½åŠŸèƒ½
- ğŸ“ å®¹å™¨å®½åº¦æ‰©å¤§ (max-w-7xl)
- ğŸ“– æ•…äº‹æ–‡æœ¬æ¡†ç‹¬å ä¸€è¡Œ

### v1.2 - UI ä¿®å¤

**ä¿®å¤é—®é¢˜:**
- ğŸ› è®¾ç½®é¢æ¿æ»šåŠ¨é—®é¢˜
- ğŸ› ç‚¹å‡»å¼¹çª—å†…éƒ¨è¯¯å…³é—­
- ğŸ› API Key ä¼˜å…ˆçº§é€»è¾‘

### v1.1 - æ ¸å¿ƒåŠŸèƒ½

**åˆå§‹åŠŸèƒ½:**
- ğŸ” å¢å¼ºè¿æ¥éªŒè¯ï¼ˆ5 ç§é”™è¯¯åˆ†ç±»ï¼‰
- ğŸ“± æ‰©å±•æ¨¡å‹é€‰é¡¹ï¼ˆ11+ æ¨¡å‹ï¼‰
- âš™ï¸ è‡ªå®šä¹‰æ¨¡å‹è¾“å…¥
- ğŸ”„ è‡ªåŠ¨é‡è¯•æœºåˆ¶

---

## å¸¸è§é—®é¢˜

### Q: æœ¬åœ°è¿è¡Œå¤±è´¥ï¼Œæç¤ºæ‰¾ä¸åˆ°æ¨¡å—ï¼Ÿ
**A:** æ‰§è¡Œ `npm install` å®‰è£…ä¾èµ–ã€‚

### Q: ç”Ÿæˆæ•…äº‹æ—¶æç¤º 503 é”™è¯¯ï¼Ÿ
**A:** Gemini API è¿‡è½½ï¼Œåº”ç”¨ä¼šè‡ªåŠ¨é‡è¯• 3 æ¬¡ã€‚å¦‚æœä»å¤±è´¥ï¼Œè¯·ç¨åå†è¯•ã€‚

### Q: å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å‹ï¼Ÿ
**A:** Settings â†’ é€‰æ‹©"è‡ªå®šä¹‰æ¨¡å‹" â†’ è¾“å…¥æ¨¡å‹åç§° â†’ æµ‹è¯•éªŒè¯ã€‚

### Q: ElevenLabs æŠ¥ CORS é”™è¯¯ï¼Ÿ
**A:** æµè§ˆå™¨ç›´è¿å—é™ï¼Œå»ºè®®ä½¿ç”¨åç«¯ä»£ç†æ–¹æ¡ˆã€‚

### Q: å¦‚ä½•éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Ÿ
**A:** æ¨èä½¿ç”¨"åç«¯ä»£ç†"æ–¹æ¡ˆï¼Œé¿å…åœ¨å‰ç«¯æš´éœ² API Keyã€‚

---

## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
ai-story-weaver/
â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚   â”œâ”€â”€ AudioPlayer.tsx
â”‚   â”œâ”€â”€ ImageUploader.tsx
â”‚   â”œâ”€â”€ SettingsPanel.tsx
â”‚   â””â”€â”€ StoryDisplay.tsx
â”œâ”€â”€ services/           # API æœåŠ¡
â”‚   â”œâ”€â”€ geminiService.ts
â”‚   â””â”€â”€ elevenlabsService.ts
â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â””â”€â”€ useSettings.ts
â”œâ”€â”€ docs/               # æ–‡æ¡£
â””â”€â”€ App.tsx             # ä¸»åº”ç”¨
```

### æ·»åŠ æ–°æ¨¡å‹

```typescript
// services/geminiService.ts
export const AVAILABLE_MODELS = [
  'gemini-2.5-flash',
  'your-new-model',  // æ·»åŠ è¿™é‡Œ
  // ...
];
```

### è‡ªå®šä¹‰ä¸»é¢˜

```typescript
// ä¿®æ”¹ App.tsx èƒŒæ™¯æ¸å˜
className="bg-gradient-to-br from-YOUR-COLOR via-YOUR-COLOR to-YOUR-COLOR"
```

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

**å¼€å‘æµç¨‹:**
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## è®¸å¯è¯

è¯·æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µæ·»åŠ è®¸å¯è¯ã€‚

---

## è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [GitHub Repository]
- Issue åé¦ˆ: [GitHub Issues]

---

**æ„Ÿè°¢ä½¿ç”¨ AI Story Weaver!** âœ¨
